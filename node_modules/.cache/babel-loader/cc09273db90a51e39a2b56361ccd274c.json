{"ast":null,"code":"var _jsxFileName = \"/home/cave/React/react-entrega-s3-kenzishop-com-context-api-cauerrds/src/providers/cart.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext(JSON.parse(localStorage.getItem(\"@kenzieShop/CART\")) || []);\nexport const CartProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [cart, setCart] = useState(JSON.parse(localStorage.getItem(\"@kenzieShop/CART\")) || []);\n  console.log(cart);\n\n  const addToCart = produto => {\n    const lista = JSON.parse(localStorage.getItem(\"@kenzieShop/CART\")) || [];\n    const exist = lista.find(prod => prod.id === produto.id);\n\n    if (exist) {\n      console.log(\"exist\");\n      const novaLista = lista.map(prod => {\n        return prod.id === produto.id ? { ...prod,\n          quantity: prod.quantity + 1\n        } : prod;\n      });\n      localStorage.setItem(\"@kenzieShop/CART\", JSON.stringify(novaLista));\n      setCart([novaLista]);\n    } else {\n      console.log(\"nem\");\n      const novaLista = [...lista, { ...produto,\n        quantity: 1\n      }];\n      localStorage.setItem(\"@kenzieShop/CART\", JSON.stringify(novaLista));\n      setCart([novaLista]);\n    }\n  };\n\n  const removeFromCart = produto => {\n    const novaLista = cart.filter(prod => {\n      if (prod.id === produto.id) {\n        if (prod.quantity > 1) {\n          prod.quantity = prod.quantity - 1;\n          return prod;\n        }\n      } else {\n        return prod;\n      }\n    });\n    localStorage.setItem(\"@kenzieShop/CART\", JSON.stringify(novaLista));\n    console.log(novaLista);\n    setCart([novaLista]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart,\n      addToCart,\n      removeFromCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartProvider, \"0qQknBagxjIzhR+/hMrpwvvmDb4=\");\n\n_c = CartProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"sources":["/home/cave/React/react-entrega-s3-kenzishop-com-context-api-cauerrds/src/providers/cart.js"],"names":["createContext","useState","CartContext","JSON","parse","localStorage","getItem","CartProvider","children","cart","setCart","console","log","addToCart","produto","lista","exist","find","prod","id","novaLista","map","quantity","setItem","stringify","removeFromCart","filter"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,QAAxB,QAAwC,OAAxC;;AAEA,OAAO,MAAMC,WAAW,gBAAGF,aAAa,CACtCG,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAAX,KAAwD,EADlB,CAAjC;AAIP,OAAO,MAAMC,YAAY,GAAG,QAAkB;AAAA;;AAAA,MAAjB;AAAEC,IAAAA;AAAF,GAAiB;AAC5C,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAC9BE,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAAX,KAAwD,EAD1B,CAAhC;AAIAK,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;;AAEA,QAAMI,SAAS,GAAIC,OAAD,IAAa;AAC7B,UAAMC,KAAK,GAAGZ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAAX,KAAwD,EAAtE;AACA,UAAMU,KAAK,GAAGD,KAAK,CAACE,IAAN,CAAYC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYL,OAAO,CAACK,EAAzC,CAAd;;AACA,QAAIH,KAAJ,EAAW;AACTL,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,YAAMQ,SAAS,GAAGL,KAAK,CAACM,GAAN,CAAWH,IAAD,IAAU;AACpC,eAAOA,IAAI,CAACC,EAAL,KAAYL,OAAO,CAACK,EAApB,GACH,EAAE,GAAGD,IAAL;AAAWI,UAAAA,QAAQ,EAAEJ,IAAI,CAACI,QAAL,GAAgB;AAArC,SADG,GAEHJ,IAFJ;AAGD,OAJiB,CAAlB;AAKAb,MAAAA,YAAY,CAACkB,OAAb,CAAqB,kBAArB,EAAyCpB,IAAI,CAACqB,SAAL,CAAeJ,SAAf,CAAzC;AACAV,MAAAA,OAAO,CAAC,CAACU,SAAD,CAAD,CAAP;AACD,KATD,MASO;AACLT,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACA,YAAMQ,SAAS,GAAG,CAAC,GAAGL,KAAJ,EAAW,EAAE,GAAGD,OAAL;AAAcQ,QAAAA,QAAQ,EAAE;AAAxB,OAAX,CAAlB;AACAjB,MAAAA,YAAY,CAACkB,OAAb,CAAqB,kBAArB,EAAyCpB,IAAI,CAACqB,SAAL,CAAeJ,SAAf,CAAzC;AACAV,MAAAA,OAAO,CAAC,CAACU,SAAD,CAAD,CAAP;AACD;AACF,GAlBD;;AAoBA,QAAMK,cAAc,GAAIX,OAAD,IAAa;AAClC,UAAMM,SAAS,GAAGX,IAAI,CAACiB,MAAL,CAAaR,IAAD,IAAU;AACtC,UAAIA,IAAI,CAACC,EAAL,KAAYL,OAAO,CAACK,EAAxB,EAA4B;AAC1B,YAAID,IAAI,CAACI,QAAL,GAAgB,CAApB,EAAuB;AACrBJ,UAAAA,IAAI,CAACI,QAAL,GAAgBJ,IAAI,CAACI,QAAL,GAAgB,CAAhC;AACA,iBAAOJ,IAAP;AACD;AACF,OALD,MAKO;AACL,eAAOA,IAAP;AACD;AACF,KATiB,CAAlB;AAUAb,IAAAA,YAAY,CAACkB,OAAb,CAAqB,kBAArB,EAAyCpB,IAAI,CAACqB,SAAL,CAAeJ,SAAf,CAAzC;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAYQ,SAAZ;AACAV,IAAAA,OAAO,CAAC,CAACU,SAAD,CAAD,CAAP;AACD,GAdD;;AAgBA,sBACE,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEX,MAAAA,IAAF;AAAQI,MAAAA,SAAR;AAAmBY,MAAAA;AAAnB,KAA7B;AAAA,cACGjB;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CAhDM;;GAAMD,Y;;KAAAA,Y","sourcesContent":["import { createContext, useState } from \"react\";\n\nexport const CartContext = createContext(\n  JSON.parse(localStorage.getItem(\"@kenzieShop/CART\")) || []\n);\n\nexport const CartProvider = ({ children }) => {\n  const [cart, setCart] = useState(\n    JSON.parse(localStorage.getItem(\"@kenzieShop/CART\")) || []\n  );\n\n  console.log(cart);\n\n  const addToCart = (produto) => {\n    const lista = JSON.parse(localStorage.getItem(\"@kenzieShop/CART\")) || [];\n    const exist = lista.find((prod) => prod.id === produto.id);\n    if (exist) {\n      console.log(\"exist\");\n      const novaLista = lista.map((prod) => {\n        return prod.id === produto.id\n          ? { ...prod, quantity: prod.quantity + 1 }\n          : prod;\n      });\n      localStorage.setItem(\"@kenzieShop/CART\", JSON.stringify(novaLista));\n      setCart([novaLista]);\n    } else {\n      console.log(\"nem\");\n      const novaLista = [...lista, { ...produto, quantity: 1 }];\n      localStorage.setItem(\"@kenzieShop/CART\", JSON.stringify(novaLista));\n      setCart([novaLista]);\n    }\n  };\n\n  const removeFromCart = (produto) => {\n    const novaLista = cart.filter((prod) => {\n      if (prod.id === produto.id) {\n        if (prod.quantity > 1) {\n          prod.quantity = prod.quantity - 1;\n          return prod;\n        }\n      } else {\n        return prod;\n      }\n    });\n    localStorage.setItem(\"@kenzieShop/CART\", JSON.stringify(novaLista));\n    console.log(novaLista);\n    setCart([novaLista]);\n  };\n\n  return (\n    <CartContext.Provider value={{ cart, addToCart, removeFromCart }}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}