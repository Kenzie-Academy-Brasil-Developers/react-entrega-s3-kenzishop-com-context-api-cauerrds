{"ast":null,"code":"import { addCart } from \"./actions\";\nexport const addCartThhunk = produto => (dispatch, getStore) => {\n  const lista = JSON.parse(localStorage.getItem(\"@kenzieShop/CART\")) || [];\n\n  if (lista.length > 0) {\n    const exist = lista.find(el => el.id === produto.id);\n    const novaLista = lista.map(prod => {\n      return exist ? { ...prod,\n        quantity: prod.quantity + 1\n      } : { ...prod,\n        quantity: 1\n      };\n    });\n    localStorage.setItem(\"@kenzieShop/CART\", JSON.stringify(novaLista));\n  } else {\n    lista.push({ ...produto,\n      quantity: 1\n    });\n    localStorage.setItem(\"@kenzieShop/CART\", JSON.stringify(novaLista));\n  }\n\n  console.log(novaLista);\n  dispatch(addCart(produto));\n};","map":{"version":3,"sources":["/home/cave/React/react-entrega-s3-kenzieshop-cauerrds/src/store/modules/cart/thunks.js"],"names":["addCart","addCartThhunk","produto","dispatch","getStore","lista","JSON","parse","localStorage","getItem","length","exist","find","el","id","novaLista","map","prod","quantity","setItem","stringify","push","console","log"],"mappings":"AAAA,SAASA,OAAT,QAAwB,WAAxB;AAEA,OAAO,MAAMC,aAAa,GAAIC,OAAD,IAAa,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAChE,QAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAAX,KAAwD,EAAtE;;AAEA,MAAIJ,KAAK,CAACK,MAAN,GAAe,CAAnB,EAAsB;AACpB,UAAMC,KAAK,GAAGN,KAAK,CAACO,IAAN,CAAYC,EAAD,IAAQA,EAAE,CAACC,EAAH,KAAUZ,OAAO,CAACY,EAArC,CAAd;AACA,UAAMC,SAAS,GAAGV,KAAK,CAACW,GAAN,CAAWC,IAAD,IAAU;AACpC,aAAON,KAAK,GACR,EAAE,GAAGM,IAAL;AAAWC,QAAAA,QAAQ,EAAED,IAAI,CAACC,QAAL,GAAgB;AAArC,OADQ,GAER,EAAE,GAAGD,IAAL;AAAWC,QAAAA,QAAQ,EAAE;AAArB,OAFJ;AAGD,KAJiB,CAAlB;AAKAV,IAAAA,YAAY,CAACW,OAAb,CAAqB,kBAArB,EAAyCb,IAAI,CAACc,SAAL,CAAeL,SAAf,CAAzC;AACD,GARD,MAQO;AACLV,IAAAA,KAAK,CAACgB,IAAN,CAAW,EAAE,GAAGnB,OAAL;AAAcgB,MAAAA,QAAQ,EAAE;AAAxB,KAAX;AACAV,IAAAA,YAAY,CAACW,OAAb,CAAqB,kBAArB,EAAyCb,IAAI,CAACc,SAAL,CAAeL,SAAf,CAAzC;AACD;;AAEDO,EAAAA,OAAO,CAACC,GAAR,CAAYR,SAAZ;AACAZ,EAAAA,QAAQ,CAACH,OAAO,CAACE,OAAD,CAAR,CAAR;AACD,CAlBM","sourcesContent":["import { addCart } from \"./actions\";\n\nexport const addCartThhunk = (produto) => (dispatch, getStore) => {\n  const lista = JSON.parse(localStorage.getItem(\"@kenzieShop/CART\")) || [];\n\n  if (lista.length > 0) {\n    const exist = lista.find((el) => el.id === produto.id);\n    const novaLista = lista.map((prod) => {\n      return exist\n        ? { ...prod, quantity: prod.quantity + 1 }\n        : { ...prod, quantity: 1 };\n    });\n    localStorage.setItem(\"@kenzieShop/CART\", JSON.stringify(novaLista));\n  } else {\n    lista.push({ ...produto, quantity: 1 });\n    localStorage.setItem(\"@kenzieShop/CART\", JSON.stringify(novaLista));\n  }\n\n  console.log(novaLista);\n  dispatch(addCart(produto));\n};\n"]},"metadata":{},"sourceType":"module"}