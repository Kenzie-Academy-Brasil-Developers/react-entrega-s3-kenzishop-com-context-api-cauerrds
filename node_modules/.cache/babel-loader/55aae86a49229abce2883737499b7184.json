{"ast":null,"code":"import { addCart } from \"./actions\";\nexport const addCartThhunk = produto => (dispatch, getStore) => {\n  const lista = JSON.parse(localStorage.getItem(\"@kenzieShop/CART\")) || [];\n  const exist = lista.find(_ref => {\n    let {\n      id\n    } = _ref;\n    return id = produto.id;\n  });\n\n  if (exist) {\n    const novaLista = lista.map(prod => {\n      return prod.id === produto.id ? { ...prod,\n        quantity: prod.quantity + 1\n      } : prod;\n    });\n    novaLista = [...lista, { ...produto,\n      quantity: 1\n    }];\n    localStorage.setItem(\"@kenzieShop/CART\", JSON.stringify(novaLista));\n  } else {\n    const novaLista = [...lista, { ...produto,\n      quantity: 1\n    }];\n    localStorage.setItem(\"@kenzieShop/CART\", JSON.stringify(novaLista));\n    console.log(novaLista);\n  }\n\n  dispatch(addCart(produto));\n};","map":{"version":3,"sources":["/home/cave/React/react-entrega-s3-kenzieshop-cauerrds/src/store/modules/cart/thunks.js"],"names":["addCart","addCartThhunk","produto","dispatch","getStore","lista","JSON","parse","localStorage","getItem","exist","find","id","novaLista","map","prod","quantity","setItem","stringify","console","log"],"mappings":"AAAA,SAASA,OAAT,QAAwB,WAAxB;AAEA,OAAO,MAAMC,aAAa,GAAIC,OAAD,IAAa,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAChE,QAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAAX,KAAwD,EAAtE;AAEA,QAAMC,KAAK,GAAGL,KAAK,CAACM,IAAN,CAAW;AAAA,QAAC;AAAEC,MAAAA;AAAF,KAAD;AAAA,WAAaA,EAAE,GAAGV,OAAO,CAACU,EAA1B;AAAA,GAAX,CAAd;;AAEA,MAAIF,KAAJ,EAAW;AACT,UAAMG,SAAS,GAAGR,KAAK,CAACS,GAAN,CAAWC,IAAD,IAAU;AACpC,aAAOA,IAAI,CAACH,EAAL,KAAYV,OAAO,CAACU,EAApB,GACH,EAAE,GAAGG,IAAL;AAAWC,QAAAA,QAAQ,EAAED,IAAI,CAACC,QAAL,GAAgB;AAArC,OADG,GAEHD,IAFJ;AAGD,KAJiB,CAAlB;AAKAF,IAAAA,SAAS,GAAG,CAAC,GAAGR,KAAJ,EAAW,EAAE,GAAGH,OAAL;AAAcc,MAAAA,QAAQ,EAAE;AAAxB,KAAX,CAAZ;AAEAR,IAAAA,YAAY,CAACS,OAAb,CAAqB,kBAArB,EAAyCX,IAAI,CAACY,SAAL,CAAeL,SAAf,CAAzC;AACD,GATD,MASO;AACL,UAAMA,SAAS,GAAG,CAAC,GAAGR,KAAJ,EAAW,EAAE,GAAGH,OAAL;AAAcc,MAAAA,QAAQ,EAAE;AAAxB,KAAX,CAAlB;AACAR,IAAAA,YAAY,CAACS,OAAb,CAAqB,kBAArB,EAAyCX,IAAI,CAACY,SAAL,CAAeL,SAAf,CAAzC;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYP,SAAZ;AACD;;AAEDV,EAAAA,QAAQ,CAACH,OAAO,CAACE,OAAD,CAAR,CAAR;AACD,CArBM","sourcesContent":["import { addCart } from \"./actions\";\n\nexport const addCartThhunk = (produto) => (dispatch, getStore) => {\n  const lista = JSON.parse(localStorage.getItem(\"@kenzieShop/CART\")) || [];\n\n  const exist = lista.find(({ id }) => (id = produto.id));\n\n  if (exist) {\n    const novaLista = lista.map((prod) => {\n      return prod.id === produto.id\n        ? { ...prod, quantity: prod.quantity + 1 }\n        : prod;\n    });\n    novaLista = [...lista, { ...produto, quantity: 1 }];\n\n    localStorage.setItem(\"@kenzieShop/CART\", JSON.stringify(novaLista));\n  } else {\n    const novaLista = [...lista, { ...produto, quantity: 1 }];\n    localStorage.setItem(\"@kenzieShop/CART\", JSON.stringify(novaLista));\n    console.log(novaLista);\n  }\n\n  dispatch(addCart(produto));\n};\n"]},"metadata":{},"sourceType":"module"}